# archisapmodel

## Usage
Create archimate model for SAP from the CIM DMTF

    awk -vDEBUG=4 -f archisapmodel.awk archisapmodel.ini GetComputerSystems.txt ListSAP.txt ListDatabases.txt ListDatabaseSystems.txt

As an input you would need the files generated by the saphostctrl and sapcontrol commands for funtions
- GetComputerSystem
- ListSAP
- ListDatabaseSystems/ListDatabases
- ABAPComponentList
- J2EEComponentList
...

The output are the three csv files (elemnts,properties,relations) which can be imported into archi.

## Acquire data
- Host /usr/sap/hostctrl/exe/saphostctrl -host localhost -function GetComputerSystem -sapitsam -swpackages -swpatches
- SAP /usr/sap/hostctrl/exe/saphostctrl -host localhost -function GetCIMObject -enuminstances SAPInstance
- DB /usr/sap/hostctrl/exe/saphostctrl -host localhost -function GetCIMObject -enuminstances SAP_ITSAMDatabaseSystem
- Host /usr/sap/hostctrl/exe/saphostctrl -host localhost -function GetCIMObject -enuminstances SAP_ITSAMComputerSystem
- SAP /usr/sap/hostctrl/exe/saphostctrl -host localhost -function Listinstances
- DB /usr/sap/hostctrl/exe/saphostctrl -host localhost -function ListDatabases
- DB /usr/sap/hostctrl/exe/saphostctrl -host localhost -function ListDatabaseSystems
